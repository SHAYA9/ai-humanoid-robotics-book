"use strict";(globalThis.webpackChunkai_humanoid_robotics_book_new=globalThis.webpackChunkai_humanoid_robotics_book_new||[]).push([[4134],{2767:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"autonomous-behaviors-multi-modal-sensors-and-cloud-ops/simulation-environments/labs","title":"7.5 Labs: From URDF to a Simulated Robot","description":"These labs will guide you through the process of creating a robot model, adding dynamics to it, and controlling it in the Gazebo simulator.","source":"@site/docs/04-autonomous-behaviors-multi-modal-sensors-and-cloud-ops/07-simulation-environments/05-labs.md","sourceDirName":"04-autonomous-behaviors-multi-modal-sensors-and-cloud-ops/07-simulation-environments","slug":"/autonomous-behaviors-multi-modal-sensors-and-cloud-ops/simulation-environments/labs","permalink":"/ai-humanoid-robotics-book/docs/autonomous-behaviors-multi-modal-sensors-and-cloud-ops/simulation-environments/labs","draft":false,"unlisted":false,"editUrl":"https://github.com/SHAYA9/ai-humanoid-robotics-book/tree/main/docs/04-autonomous-behaviors-multi-modal-sensors-and-cloud-ops/07-simulation-environments/05-labs.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"7.4 Unity Visualization Plan","permalink":"/ai-humanoid-robotics-book/docs/autonomous-behaviors-multi-modal-sensors-and-cloud-ops/simulation-environments/unity-visualization-plan"},"next":{"title":"7.1 Introduction to the NVIDIA Isaac Platform","permalink":"/ai-humanoid-robotics-book/docs/autonomous-behaviors-multi-modal-sensors-and-cloud-ops/mlops-for-robotics/introduction-to-nvidia-isaac"}}');var s=o(4848),t=o(8453);const r={sidebar_position:5},a="7.5 Labs: From URDF to a Simulated Robot",l={},d=[{value:"Lab 7.1: Create a Kinematic Model (URDF)",id:"lab-71-create-a-kinematic-model-urdf",level:3},{value:"Lab 7.2: Add Dynamics (SDF)",id:"lab-72-add-dynamics-sdf",level:3},{value:"Lab 7.3: Spawn in Gazebo",id:"lab-73-spawn-in-gazebo",level:3},{value:"Module Project: Joint Control",id:"module-project-joint-control",level:3}];function c(e){const n={code:"code",h1:"h1",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"75-labs-from-urdf-to-a-simulated-robot",children:"7.5 Labs: From URDF to a Simulated Robot"})}),"\n",(0,s.jsx)(n.p,{children:"These labs will guide you through the process of creating a robot model, adding dynamics to it, and controlling it in the Gazebo simulator."}),"\n",(0,s.jsx)(n.h3,{id:"lab-71-create-a-kinematic-model-urdf",children:"Lab 7.1: Create a Kinematic Model (URDF)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Goal:"})," Define the kinematic structure of a simple two-link robotic arm using URDF."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Create a Package:"})," In your ROS 2 workspace, create a new package named ",(0,s.jsx)(n.code,{children:"my_robot_description"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Create URDF Directory:"})," Inside the package, create a directory structure: ",(0,s.jsx)(n.code,{children:"urdf/"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Write the URDF:"})," Create a file named ",(0,s.jsx)(n.code,{children:"my_arm.urdf"})," inside the ",(0,s.jsx)(n.code,{children:"urdf"})," directory. Write the XML to define two links (",(0,s.jsx)(n.code,{children:"base_link"}),", ",(0,s.jsx)(n.code,{children:"arm_link"}),") and a revolute joint (",(0,s.jsx)(n.code,{children:"arm_joint"}),") connecting them. For the ",(0,s.jsx)(n.code,{children:"<visual>"})," tags, you can use simple ",(0,s.jsx)(n.code,{children:"<box>"})," or ",(0,s.jsx)(n.code,{children:"<cylinder>"})," geometry."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Create a Launch File:"})," Create a launch file that starts the ",(0,s.jsx)(n.code,{children:"robot_state_publisher"})," and ",(0,s.jsx)(n.code,{children:"joint_state_publisher_gui"})," nodes. The ",(0,s.jsx)(n.code,{children:"robot_state_publisher"})," will read your URDF and publish the robot's transform (",(0,s.jsx)(n.code,{children:"/tf"}),") data."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Visualize in RViz2:"}),' Launch your launch file. Open RViz2 and add a "RobotModel" display. You should see your simple arm. Use the ',(0,s.jsx)(n.code,{children:"joint_state_publisher_gui"})," to move the joint and see the arm articulate in RViz2."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Outcome:"})," A correct kinematic model of a robotic arm, viewable in RViz2."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"lab-72-add-dynamics-sdf",children:"Lab 7.2: Add Dynamics (SDF)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Goal:"})," Convert the URDF to SDF and add physical properties."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Convert URDF to SDF:"})," Gazebo provides a command-line tool to perform a basic conversion."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"gz sdf -p my_arm.urdf > my_arm.sdf\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Edit the SDF:"})," Open ",(0,s.jsx)(n.code,{children:"my_arm.sdf"}),". You will see that the file is much more verbose. Your task is to add the following to each link:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["An ",(0,s.jsx)(n.code,{children:"<inertial>"})," tag with ",(0,s.jsx)(n.code,{children:"mass"})," and ",(0,s.jsx)(n.code,{children:"inertia"})," matrix values. You can start with placeholder values."]}),"\n",(0,s.jsxs)(n.li,{children:["A ",(0,s.jsx)(n.code,{children:"<collision>"})," tag. Copy the geometry from the ",(0,s.jsx)(n.code,{children:"<visual>"})," tag to create a simple collision shape."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Outcome:"})," A dynamically-defined robot model in SDF format."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"lab-73-spawn-in-gazebo",children:"Lab 7.3: Spawn in Gazebo"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Goal:"})," Launch Gazebo and spawn your robot model into the simulation."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Create a World File:"})," Create a new directory ",(0,s.jsx)(n.code,{children:"worlds"})," and a simple world file ",(0,s.jsx)(n.code,{children:"empty.world"})," inside it. You can start with a minimal world containing only the ground plane and lighting."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Update the Launch File:"})," Create a new launch file, ",(0,s.jsx)(n.code,{children:"spawn_robot.launch.py"}),". This file will:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Start the Gazebo server (",(0,s.jsx)(n.code,{children:"gzserver"}),") with your ",(0,s.jsx)(n.code,{children:"empty.world"})," file."]}),"\n",(0,s.jsxs)(n.li,{children:["Start the Gazebo client (",(0,s.jsx)(n.code,{children:"gzclient"}),") for visualization."]}),"\n",(0,s.jsxs)(n.li,{children:["Use the ",(0,s.jsx)(n.code,{children:"spawn_entity.py"})," script (provided by Gazebo) as a ",(0,s.jsx)(n.code,{children:"Node"})," to spawn your ",(0,s.jsx)(n.code,{children:"my_arm.sdf"})," file into the running simulation."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Launch:"})," Run the new launch file."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Outcome:"})," The Gazebo window opens, and you see your robotic arm standing on the ground plane, subject to gravity."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"module-project-joint-control",children:"Module Project: Joint Control"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Goal:"})," Write a ROS 2 node to control the joint of your simulated arm."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Examine Gazebo Topics:"})," With the simulation running, use ",(0,s.jsx)(n.code,{children:"ros2 topic list"})," to see the topics created by Gazebo. You should find a topic for controlling the joint, likely named something like ",(0,s.jsx)(n.code,{children:"/model/my_arm/joint/arm_joint/cmd_pos"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Write a Publisher Node:"})," Create a Python node that publishes a ",(0,s.jsx)(n.code,{children:"std_msgs/msg/Float64"})," message to the joint command topic. On a timer, have it publish a sine wave or a simple ramp to move the joint back and forth."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Create a Final Launch File:"})," Create a final launch file that starts Gazebo, spawns the robot, and starts your controller node all at once."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Outcome:"})," You can launch your entire simulation with a single command and watch your custom ROS 2 node control the arm in Gazebo. This completes the full workflow from robot description to simulation and control."]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>a});var i=o(6540);const s={},t=i.createContext(s);function r(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);