"use strict";(globalThis.webpackChunkai_humanoid_robotics_book_new=globalThis.webpackChunkai_humanoid_robotics_book_new||[]).push([[8555],{3106:(e,s,a)=>{a.r(s),a.d(s,{default:()=>u});var t=a(6540),i=a(8691),l=a(3689),r=a(4678),n=a(4848);function c({value:e,label:s}){const a=Math.min(Math.max(e,0),100);return(0,n.jsxs)("div",{className:"progress-bar-container",children:[s&&(0,n.jsx)("span",{className:"progress-bar-label",children:s}),(0,n.jsx)("div",{className:"progress-bar-background",children:(0,n.jsx)("div",{className:"progress-bar-foreground",style:{width:`${a}%`},children:(0,n.jsx)("span",{className:"progress-bar-percentage",children:`${Math.round(a)}%`})})})]})}const o=[{id:"ros2-basics",title:"ROS 2 Basics"},{id:"gazebo-intro",title:"Intro to Gazebo"},{id:"urdf-creation",title:"URDF Creation"},{id:"isaac-sim-basics",title:"Isaac Sim Basics"},{id:"vla-models",title:"VLA Models"}];function d(){const{user:e}=(0,l.A)(),[s,a]=(0,t.useState)(!0),[i,d]=(0,t.useState)(""),[m,h]=(0,t.useState)("Beginner"),[u,x]=(0,t.useState)(0),[p,j]=(0,t.useState)(""),[g,N]=(0,t.useState)(""),[v,f]=(0,t.useState)({completedModules:0,totalTime:0,achievements:0,streak:0});(0,t.useEffect)(()=>{!async function(){if(e){a(!0);const s=r.N.from("user_profiles").select("username, skill_level, user_stats").eq("id",e.id).single(),t=r.N.from("user_progress").select("module_id, time_spent").eq("user_id",e.id),[{data:i,error:l},{data:n,error:c}]=await Promise.all([s,t]);if(l?(console.error("Profile fetch error:",l),await b()):i&&(d(i.username||""),h(i.skill_level||"Beginner"),i.user_stats&&f(i.user_stats)),c)console.error("Progress fetch error:",c);else{const e=n?n.length:0,s=o.length;x(s>0?e/s*100:0);const a=n?.reduce((e,s)=>e+(s.time_spent||0),0)||0;f(s=>({...s,totalTime:a,completedModules:e}))}a(!1)}}()},[e]);const b=async()=>{const s=e.email.split("@")[0],{error:a}=await r.N.from("user_profiles").insert({id:e.id,username:s,skill_level:"Beginner",user_stats:{completedModules:0,totalTime:0,achievements:0,streak:0},created_at:new Date,updated_at:new Date});a?(console.error("Default profile creation error:",a),j("Failed to create profile. Please refresh the page.")):d(s)};return s?(0,n.jsxs)("div",{className:"loading-overlay",children:[(0,n.jsx)("div",{className:"loading-spinner"}),(0,n.jsx)("p",{children:"Loading your profile..."})]}):(0,n.jsxs)("div",{className:"profile-manager",children:[(0,n.jsxs)("div",{className:"profile-header",children:[(0,n.jsx)("div",{className:"avatar",children:(0,n.jsx)("img",{src:`https://ui-avatars.com/api/?name=${i||e.email}&background=6366f1&color=fff&bold=true`,alt:"User Avatar",onError:s=>{s.target.src=`https://ui-avatars.com/api/?name=${e.email}&background=6366f1&color=fff&bold=true`}})}),(0,n.jsx)("h2",{children:i||e.email}),(0,n.jsxs)("div",{className:"user-title",children:[(0,n.jsx)("span",{className:"skill-badge",children:m}),(0,n.jsxs)("span",{className:"member-since",children:["Member since ",new Date(e.created_at).toLocaleDateString("en-US",{month:"long",year:"numeric"})]})]}),(0,n.jsxs)("div",{className:"user-stats",children:[(0,n.jsxs)("div",{className:"stat-item",children:[(0,n.jsx)("span",{className:"stat-value",children:v.completedModules}),(0,n.jsx)("span",{className:"stat-label",children:"Modules Completed"})]}),(0,n.jsxs)("div",{className:"stat-item",children:[(0,n.jsx)("span",{className:"stat-value",children:Math.round(v.totalTime/60)}),(0,n.jsx)("span",{className:"stat-label",children:"Hours Learned"})]}),(0,n.jsxs)("div",{className:"stat-item",children:[(0,n.jsx)("span",{className:"stat-value",children:v.achievements}),(0,n.jsx)("span",{className:"stat-label",children:"Achievements"})]}),(0,n.jsxs)("div",{className:"stat-item",children:[(0,n.jsx)("span",{className:"stat-value",children:v.streak}),(0,n.jsx)("span",{className:"stat-label",children:"Day Streak"})]})]}),(0,n.jsx)(c,{value:u,label:"Overall Progress",showPercentage:!0})]}),(0,n.jsxs)("div",{className:"profile-content",children:[p&&(0,n.jsxs)("div",{className:"auth-message auth-error",children:[(0,n.jsx)("div",{className:"message-icon",children:"\u26a0\ufe0f"}),(0,n.jsx)("div",{className:"message-text",children:p})]}),g&&(0,n.jsxs)("div",{className:"auth-message auth-success",children:[(0,n.jsx)("div",{className:"message-icon",children:"\u2705"}),(0,n.jsx)("div",{className:"message-text",children:g})]}),(0,n.jsxs)("div",{className:"profile-sections",children:[(0,n.jsxs)("div",{className:"section-card",children:[(0,n.jsx)("h3",{className:"section-title",children:"Profile Information"}),(0,n.jsxs)("form",{onSubmit:async function(s){s.preventDefault(),a(!0),j(""),N("");try{const s={id:e.id,username:i,skill_level:m,updated_at:new Date},{error:a}=await r.N.from("user_profiles").upsert(s);if(a)throw a;N("Your profile has been updated successfully!"),setTimeout(()=>N(""),3e3)}catch(p){j(p.message)}finally{a(!1)}},className:"auth-form",children:[(0,n.jsxs)("div",{className:"form-row",children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"email",children:"Email"}),(0,n.jsx)("input",{id:"email",type:"email",value:e.email,disabled:!0,className:"form-input"}),(0,n.jsx)("div",{className:"form-icon",children:"\ud83d\udce7"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"username",children:"Username"}),(0,n.jsx)("input",{id:"username",type:"text",value:i,onChange:e=>d(e.target.value),required:!0,className:"form-input",placeholder:"Choose a username"}),(0,n.jsx)("div",{className:"form-icon",children:"\ud83d\udc64"})]})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"skillLevel",children:"Skill Level"}),(0,n.jsxs)("select",{id:"skillLevel",value:m,onChange:e=>h(e.target.value),className:"form-input",children:[(0,n.jsx)("option",{value:"Beginner",children:"\ud83d\udc76 Beginner - New to AI & Robotics"}),(0,n.jsx)("option",{value:"Intermediate",children:"\ud83d\ude80 Intermediate - Some experience"}),(0,n.jsx)("option",{value:"Advanced",children:"\ud83c\udfc6 Advanced - Professional experience"})]}),(0,n.jsx)("div",{className:"form-icon",children:"\ud83d\udcca"})]}),(0,n.jsxs)("div",{className:"form-actions",children:[(0,n.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>{fetchProfile()},children:"Cancel"}),(0,n.jsx)("button",{type:"submit",className:"btn-primary",disabled:s,children:s?"Updating...":"Save Changes"})]})]})]}),(0,n.jsxs)("div",{className:"section-card",children:[(0,n.jsx)("h3",{className:"section-title",children:"Account Settings"}),(0,n.jsxs)("div",{className:"settings-grid",children:[(0,n.jsxs)("button",{className:"settings-item",children:[(0,n.jsx)("span",{className:"settings-icon",children:"\ud83d\udd12"}),(0,n.jsx)("span",{className:"settings-text",children:"Change Password"}),(0,n.jsx)("span",{className:"settings-arrow",children:"\u2192"})]}),(0,n.jsxs)("button",{className:"settings-item",children:[(0,n.jsx)("span",{className:"settings-icon",children:"\ud83d\udce7"}),(0,n.jsx)("span",{className:"settings-text",children:"Email Preferences"}),(0,n.jsx)("span",{className:"settings-arrow",children:"\u2192"})]}),(0,n.jsxs)("button",{className:"settings-item",children:[(0,n.jsx)("span",{className:"settings-icon",children:"\ud83d\udd14"}),(0,n.jsx)("span",{className:"settings-text",children:"Notification Settings"}),(0,n.jsx)("span",{className:"settings-arrow",children:"\u2192"})]}),(0,n.jsxs)("button",{className:"settings-item settings-item-danger",children:[(0,n.jsx)("span",{className:"settings-icon",children:"\ud83d\uddd1\ufe0f"}),(0,n.jsx)("span",{className:"settings-text",children:"Delete Account"}),(0,n.jsx)("span",{className:"settings-arrow",children:"\u2192"})]})]})]})]})]})]})}var m=a(6347),h=a(6025);function u(){const{user:e}=(0,l.A)(),s=(0,h.Ay)("/login");return e?(0,n.jsx)(i.A,{title:"Your Profile",children:(0,n.jsx)("div",{className:"auth-page-container",children:(0,n.jsx)(d,{})})}):(0,n.jsx)(m.rd,{to:s})}}}]);