"use strict";(globalThis.webpackChunkai_humanoid_robotics_book_new=globalThis.webpackChunkai_humanoid_robotics_book_new||[]).push([[3812],{1287:(e,s,a)=>{a.r(s),a.d(s,{default:()=>m});var i=a(6540),t=a(9697),l=a(3689),r=a(4678),n=a(4848);const c=[{id:"ros2-basics",title:"ROS 2 Basics"},{id:"gazebo-intro",title:"Intro to Gazebo"},{id:"urdf-creation",title:"URDF Creation"},{id:"isaac-sim-basics",title:"Isaac Sim Basics"},{id:"vla-models",title:"VLA Models"}];function o(){const{user:e}=(0,l.A)(),[s,a]=(0,i.useState)(!0),[t,o]=(0,i.useState)(""),[d,m]=(0,i.useState)("Beginner"),[h,u]=(0,i.useState)(0),[x,p]=(0,i.useState)(""),[j,N]=(0,i.useState)(""),[g,v]=(0,i.useState)(!1),[f,b]=(0,i.useState)({completedModules:0,totalTime:0,achievements:0,streak:0});(0,i.useEffect)(()=>{!async function(){if(e){a(!0);const s=r.N.from("user_profiles").select("username, skill_level, user_stats").eq("id",e.id).single(),i=r.N.from("user_progress").select("module_id, time_spent").eq("user_id",e.id),[{data:t,error:l},{data:n,error:d}]=await Promise.all([s,i]);if(l?(console.error("Profile fetch error:",l),await _()):t&&(o(t.username||""),m(t.skill_level||"Beginner"),t.user_stats&&b(t.user_stats)),d)console.error("Progress fetch error:",d);else{const e=n?n.length:0,s=c.length;u(s>0?e/s*100:0);const a=n?.reduce((e,s)=>e+(s.time_spent||0),0)||0;b(s=>({...s,totalTime:a,completedModules:e}))}a(!1)}}()},[e]);const _=async()=>{const s=e.email.split("@")[0],{error:a}=await r.N.from("user_profiles").insert({id:e.id,username:s,skill_level:"Beginner",user_stats:{completedModules:0,totalTime:0,achievements:0,streak:0},created_at:new Date,updated_at:new Date});a?(console.error("Default profile creation error:",a),p("Failed to create profile. Please refresh the page.")):o(s)};return s?(0,n.jsxs)("div",{className:"loading-overlay",children:[(0,n.jsx)("div",{className:"loading-spinner"}),(0,n.jsx)("p",{children:"Loading your profile..."})]}):(0,n.jsxs)("div",{className:"profile-manager",children:[(0,n.jsxs)("div",{className:"profile-header",children:[(0,n.jsx)("div",{className:"avatar",children:(0,n.jsx)("img",{src:`https://ui-avatars.com/api/?name=${t||e.email}&background=6366f1&color=fff&bold=true`,alt:"User Avatar",onError:s=>{s.target.src=`https://ui-avatars.com/api/?name=${e.email}&background=6366f1&color=fff&bold=true`}})}),(0,n.jsx)("h2",{children:t||e.email}),(0,n.jsxs)("div",{className:"user-title",children:[(0,n.jsx)("span",{className:"skill-badge",children:d}),(0,n.jsxs)("span",{className:"member-since",children:["Member since ",new Date(e.created_at).toLocaleDateString("en-US",{month:"long",year:"numeric"})]})]}),(0,n.jsxs)("div",{className:"user-stats",children:[(0,n.jsxs)("div",{className:"stat-item",children:[(0,n.jsx)("span",{className:"stat-value",children:f.completedModules}),(0,n.jsx)("span",{className:"stat-label",children:"Modules Completed"})]}),(0,n.jsxs)("div",{className:"stat-item",children:[(0,n.jsx)("span",{className:"stat-value",children:Math.round(f.totalTime/60)}),(0,n.jsx)("span",{className:"stat-label",children:"Hours Learned"})]}),(0,n.jsxs)("div",{className:"stat-item",children:[(0,n.jsx)("span",{className:"stat-value",children:f.achievements}),(0,n.jsx)("span",{className:"stat-label",children:"Achievements"})]}),(0,n.jsxs)("div",{className:"stat-item",children:[(0,n.jsx)("span",{className:"stat-value",children:f.streak}),(0,n.jsx)("span",{className:"stat-label",children:"Day Streak"})]})]}),(0,n.jsxs)("div",{className:"progress-container",children:[(0,n.jsxs)("div",{className:"progress-label",children:[(0,n.jsx)("span",{children:"Overall Progress"}),(0,n.jsxs)("span",{className:"progress-percentage",children:[Math.round(h),"%"]})]}),(0,n.jsx)("div",{className:"progress-bar-background",children:(0,n.jsx)("div",{className:"progress-bar-fill",style:{width:`${h}%`}})})]})]}),(0,n.jsxs)("div",{className:"profile-content",children:[x&&(0,n.jsxs)("div",{className:"auth-message auth-error",children:[(0,n.jsx)("div",{className:"message-icon",children:"\u26a0\ufe0f"}),(0,n.jsx)("div",{className:"message-text",children:x})]}),j&&(0,n.jsxs)("div",{className:"auth-message auth-success",children:[(0,n.jsx)("div",{className:"message-icon",children:"\u2705"}),(0,n.jsx)("div",{className:"message-text",children:j})]}),(0,n.jsxs)("div",{className:"profile-sections",children:[(0,n.jsx)("div",{className:"section-card",children:(0,n.jsx)("h3",{className:"section-title",children:"Profile Picture"})}),(0,n.jsxs)("div",{className:"section-card",children:[(0,n.jsx)("h3",{className:"section-title",children:"Profile Information"}),(0,n.jsxs)("form",{onSubmit:async function(s){s.preventDefault(),a(!0),p(""),N("");try{const s={id:e.id,username:t,skill_level:d,updated_at:new Date},{error:a}=await r.N.from("user_profiles").upsert(s);if(a)throw a;N("Your profile has been updated successfully!"),setTimeout(()=>N(""),3e3)}catch(x){p(x.message)}finally{a(!1)}},className:"auth-form",children:[(0,n.jsxs)("div",{className:"form-row",children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"email",children:"Email"}),(0,n.jsx)("input",{id:"email",type:"email",value:e.email,disabled:!0,className:"form-input"}),(0,n.jsx)("div",{className:"form-icon",children:"\ud83d\udce7"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"username",children:"Username"}),(0,n.jsx)("input",{id:"username",type:"text",value:t,onChange:e=>o(e.target.value),required:!0,className:"form-input",placeholder:"Choose a username"}),(0,n.jsx)("div",{className:"form-icon",children:"\ud83d\udc64"})]})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"skillLevel",children:"Skill Level"}),(0,n.jsxs)("select",{id:"skillLevel",value:d,onChange:e=>m(e.target.value),className:"form-input",children:[(0,n.jsx)("option",{value:"Beginner",children:"\ud83d\udc76 Beginner - New to AI & Robotics"}),(0,n.jsx)("option",{value:"Intermediate",children:"\ud83d\ude80 Intermediate - Some experience"}),(0,n.jsx)("option",{value:"Advanced",children:"\ud83c\udfc6 Advanced - Professional experience"})]}),(0,n.jsx)("div",{className:"form-icon",children:"\ud83d\udcca"})]}),(0,n.jsxs)("div",{className:"form-actions",children:[(0,n.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>{fetchProfile()},children:"Cancel"}),(0,n.jsx)("button",{type:"submit",className:"btn-primary",disabled:s||g,children:s?"Updating...":"Save Changes"})]})]})]}),(0,n.jsxs)("div",{className:"section-card",children:[(0,n.jsx)("h3",{className:"section-title",children:"Account Settings"}),(0,n.jsxs)("div",{className:"settings-grid",children:[(0,n.jsxs)("button",{className:"settings-item",children:[(0,n.jsx)("span",{className:"settings-icon",children:"\ud83d\udd12"}),(0,n.jsx)("span",{className:"settings-text",children:"Change Password"}),(0,n.jsx)("span",{className:"settings-arrow",children:"\u2192"})]}),(0,n.jsxs)("button",{className:"settings-item",children:[(0,n.jsx)("span",{className:"settings-icon",children:"\ud83d\udce7"}),(0,n.jsx)("span",{className:"settings-text",children:"Email Preferences"}),(0,n.jsx)("span",{className:"settings-arrow",children:"\u2192"})]}),(0,n.jsxs)("button",{className:"settings-item",children:[(0,n.jsx)("span",{className:"settings-icon",children:"\ud83d\udd14"}),(0,n.jsx)("span",{className:"settings-text",children:"Notification Settings"}),(0,n.jsx)("span",{className:"settings-arrow",children:"\u2192"})]}),(0,n.jsxs)("button",{className:"settings-item settings-item-danger",children:[(0,n.jsx)("span",{className:"settings-icon",children:"\ud83d\uddd1\ufe0f"}),(0,n.jsx)("span",{className:"settings-text",children:"Delete Account"}),(0,n.jsx)("span",{className:"settings-arrow",children:"\u2192"})]})]})]})]})]})]})}var d=a(6347);function m(){const{user:e}=(0,l.A)();return e?(0,n.jsx)(t.A,{title:"Profile Manager",children:(0,n.jsx)(o,{})}):(0,n.jsx)(d.rd,{to:"/login"})}}}]);