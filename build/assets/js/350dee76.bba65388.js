"use strict";(globalThis.webpackChunkai_humanoid_robotics_book_new=globalThis.webpackChunkai_humanoid_robotics_book_new||[]).push([[7122],{7744:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"specifyplus/integration/existing-projects","title":"Integration: Existing Projects","description":"Integrating an existing robotics project with the SpecifyPlus framework primarily involves ensuring compatibility with the ROS 2 communication layer. This guide provides steps for adapting your existing ROS 1 or ROS 2 projects.","source":"@site/docs/specifyplus/integration/existing-projects.md","sourceDirName":"specifyplus/integration","slug":"/specifyplus/integration/existing-projects","permalink":"/ai-humanoid-robotics-book/docs/specifyplus/integration/existing-projects","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var r=i(4848),t=i(8453);const o={},a="Integration: Existing Projects",c={},l=[{value:"Case 1: Integrating an Existing ROS 2 Project",id:"case-1-integrating-an-existing-ros-2-project",level:2},{value:"Case 2: Integrating a ROS 1 Project",id:"case-2-integrating-a-ros-1-project",level:2},{value:"Case 3: Integrating a Non-ROS Project",id:"case-3-integrating-a-non-ros-project",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"integration-existing-projects",children:"Integration: Existing Projects"})}),"\n",(0,r.jsx)(n.p,{children:"Integrating an existing robotics project with the SpecifyPlus framework primarily involves ensuring compatibility with the ROS 2 communication layer. This guide provides steps for adapting your existing ROS 1 or ROS 2 projects."}),"\n",(0,r.jsx)(n.h2,{id:"case-1-integrating-an-existing-ros-2-project",children:"Case 1: Integrating an Existing ROS 2 Project"}),"\n",(0,r.jsx)(n.p,{children:"This is the most straightforward case. The main task is to align your project's topics, services, and message types with the conventions used in SpecifyPlus."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Analyze Interfaces:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"ros2 node info <your_node>"})," to list all the publishers, subscribers, services, and actions for your existing nodes."]}),"\n",(0,r.jsxs)(n.li,{children:["Compare these with the standard interfaces used in SpecifyPlus (e.g., ",(0,r.jsx)(n.code,{children:"/cmd_vel"})," for motion, ",(0,r.jsx)(n.code,{children:"/joint_states"})," for robot state)."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Topic/Service Remapping:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The easiest way to adapt your node is by using remapping rules in your launch file. This allows you to change the names of topics and services without modifying your code."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example Launch File:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    return LaunchDescription([\n        Node(\n            package='my_existing_package',\n            executable='my_planner_node',\n            name='my_planner',\n            remappings=[\n                ('/my_planner/output_path', '/plan'), # Remap output topic\n                ('/input_scan', '/scan')             # Remap input topic\n            ]\n        )\n    ])\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Message Type Conversion:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:['If your project uses custom message or service types, you may need to create a "translator" node. This node subscribes to your custom message topic, converts the data into a standard message type (e.g., a ',(0,r.jsx)(n.code,{children:"sensor_msgs/msg/Image"}),"), and republishes it on a new topic for the rest of the SpecifyPlus system to use."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"case-2-integrating-a-ros-1-project",children:"Case 2: Integrating a ROS 1 Project"}),"\n",(0,r.jsxs)(n.p,{children:["To integrate a project written in ROS 1, you must use the ",(0,r.jsx)(n.code,{children:"ros1_bridge"}),". This bridge acts as a bidirectional translator for topics, services, and actions between a ROS 1 graph and a ROS 2 graph."]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Install the Bridge:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo apt-get install ros-humble-ros1-bridge\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Run the Bridge:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["First, start your ROS 1 ",(0,r.jsx)(n.code,{children:"roscore"})," and your ROS 1 nodes in one set of terminals."]}),"\n",(0,r.jsx)(n.li,{children:"Then, in a separate terminal, source your ROS 2 environment and run the bridge."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Terminal 1: ROS 1\nsource /opt/ros/noetic/setup.bash\nroscore\n\n# Terminal 2: ROS 1\nsource /opt/ros/noetic/setup.bash\nrosrun my_ros1_package my_ros1_node\n\n# Terminal 3: Bridge\nsource /opt/ros/humble/setup.bash\nros2 run ros1_bridge dynamic_bridge --bridge-all-topics\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"--bridge-all-topics"})," flag will automatically bridge all topics it discovers. You can also configure the bridge to only pass specific topics for better performance."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Verify Communication:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"In a ROS 2 terminal, you should now be able to see the topics published by your ROS 1 node."}),"\n",(0,r.jsxs)(n.li,{children:["For example, if your ROS 1 node publishes on ",(0,r.jsx)(n.code,{children:"/camera/image"}),", you can check it in ROS 2:"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Terminal 4: ROS 2\nsource /opt/ros/humble/setup.bash\nros2 topic list\nros2 topic echo /camera/image\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"case-3-integrating-a-non-ros-project",children:"Case 3: Integrating a Non-ROS Project"}),"\n",(0,r.jsx)(n.p,{children:'If your project is not based on ROS, you will need to create a ROS 2 "wrapper" node.'}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Identify Entry Points:"})," Determine how to get data into and out of your existing application (e.g., via a C++ or Python API, a command-line interface, or a network socket)."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Create a Wrapper Node:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Create a new ROS 2 package and node."}),"\n",(0,r.jsx)(n.li,{children:"This node will act as a bridge. It will subscribe to ROS 2 topics, and when it receives a message, it will call the appropriate function in your non-ROS application's API."}),"\n",(0,r.jsx)(n.li,{children:"Conversely, if your application produces data, the wrapper node will be responsible for polling that data, converting it into a ROS 2 message, and publishing it on a topic."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This approach encapsulates your external project, making it behave like any other native ROS 2 node within the SpecifyPlus ecosystem."})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var s=i(6540);const r={},t=s.createContext(r);function o(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);