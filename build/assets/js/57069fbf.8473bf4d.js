"use strict";(globalThis.webpackChunkai_humanoid_robotics_book_new=globalThis.webpackChunkai_humanoid_robotics_book_new||[]).push([[3936],{8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>c});var i=s(6540);const o={},t=i.createContext(o);function r(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(t.Provider,{value:n},e.children)}},9959:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"specifyplus/modules/ros2-integration","title":"Module 1: ROS 2 Integration","description":"This module documentation covers the integration of the Robotic Nervous System (ROS 2) within the SpecifyPlus framework. ROS 2 forms the communication backbone of the entire system.","source":"@site/docs/specifyplus/modules/ros2-integration.md","sourceDirName":"specifyplus/modules","slug":"/specifyplus/modules/ros2-integration","permalink":"/ai-humanoid-robotics-book/docs/specifyplus/modules/ros2-integration","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var o=s(4848),t=s(8453);const r={},c="Module 1: ROS 2 Integration",a={},l=[{value:"ROS 2 Architecture",id:"ros-2-architecture",level:2},{value:"Nodes, Topics, and Services",id:"nodes-topics-and-services",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Topics",id:"topics",level:3},{value:"Services",id:"services",level:3},{value:"rclpy Python Agents",id:"rclpy-python-agents",level:2},{value:"URDF for Humanoids",id:"urdf-for-humanoids",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"module-1-ros-2-integration",children:"Module 1: ROS 2 Integration"})}),"\n",(0,o.jsx)(n.p,{children:"This module documentation covers the integration of the Robotic Nervous System (ROS 2) within the SpecifyPlus framework. ROS 2 forms the communication backbone of the entire system."}),"\n",(0,o.jsx)(n.h2,{id:"ros-2-architecture",children:"ROS 2 Architecture"}),"\n",(0,o.jsx)(n.p,{children:"The SpecifyPlus system leverages the core concepts of ROS 2 to build a distributed and modular robotics application."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Graph:"})," The system is a network of ROS 2 nodes, which represents the entire software stack. Tools like ",(0,o.jsx)(n.code,{children:"rqt_graph"})," can be used to visualize the connections between different components."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"DDS (Data Distribution Service):"})," Under the hood, ROS 2 uses DDS for its publish-subscribe messaging. This provides a robust, real-time communication layer that is ideal for robotics applications."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"nodes-topics-and-services",children:"Nodes, Topics, and Services"}),"\n",(0,o.jsx)(n.p,{children:"These are the fundamental building blocks of a SpecifyPlus application."}),"\n",(0,o.jsx)(n.h3,{id:"nodes",children:"Nodes"}),"\n",(0,o.jsx)(n.p,{children:"A node is the smallest unit of computation. Each node in SpecifyPlus is responsible for a single, specific purpose, such as controlling a motor, reading a sensor, or planning a path."}),"\n",(0,o.jsx)(n.h3,{id:"topics",children:"Topics"}),"\n",(0,o.jsx)(n.p,{children:"Topics are named buses over which nodes exchange messages. SpecifyPlus uses a standardized set of topics for common robotics data."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"/joint_states"}),": Publishes the current angle and velocity of all robot joints."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"/scan"}),": For 2D LiDAR data."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"/camera/image_raw"}),": Raw image data from a camera."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"/cmd_vel"}),": Used to send velocity commands to the robot's base."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example: Listening to a Topic"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ros2 topic echo /joint_states\n"})}),"\n",(0,o.jsx)(n.h3,{id:"services",children:"Services"}),"\n",(0,o.jsx)(n.p,{children:"Services are used for request/response communication. Unlike topics, services are synchronous and are used for tasks that have a clear start and end."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example: Calling a Service"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'# Hypothetical service to set the robot\'s arm to a specific pose\nros2 service call /move_arm_to_pose my_interfaces/srv/SetPose "{position: {x: 0.5, y: 0.2, z: 1.0}}"\n'})}),"\n",(0,o.jsx)(n.h2,{id:"rclpy-python-agents",children:"rclpy Python Agents"}),"\n",(0,o.jsxs)(n.p,{children:["The logic for most nodes in SpecifyPlus is written in Python using the ",(0,o.jsx)(n.code,{children:"rclpy"}),' client library. These "agents" are Python scripts that can create nodes, publishers, subscribers, and services.']}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example: A Simple Subscriber Agent"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom sensor_msgs.msg import JointState\n\nclass JointStateMonitor(Node):\n    def __init__(self):\n        super().__init__('joint_state_monitor')\n        self.subscription = self.create_subscription(\n            JointState,\n            'joint_states',\n            self.listener_callback,\n            10)\n        self.subscription  # prevent unused variable warning\n\n    def listener_callback(self, msg):\n        self.get_logger().info(f'Received joint states for: {msg.name}')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    monitor = JointStateMonitor()\n    rclpy.spin(monitor)\n    monitor.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,o.jsx)(n.h2,{id:"urdf-for-humanoids",children:"URDF for Humanoids"}),"\n",(0,o.jsx)(n.p,{children:"The physical model of the humanoid robot is defined using the Unified Robot Description Format (URDF). The URDF is an XML file that describes:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Links:"})," The rigid parts of the robot (e.g., torso, upper arm, gripper)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Joints:"})," The connections between links, defining how they can move relative to each other (e.g., revolute, prismatic)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Visuals:"})," The 3D mesh and appearance of each link."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Collisions:"})," The collision geometry used by the physics engine."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["This URDF file is loaded by the ",(0,o.jsx)(n.code,{children:"robot_state_publisher"})," node, which broadcasts the transforms of all links, and is also used by the simulator (Gazebo) to create the robot's digital twin."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example URDF Snippet:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<robot name="my_humanoid">\n  <link name="torso">\n    <visual>\n      <geometry>\n        <mesh filename="package://my_robot_description/meshes/torso.dae"/>\n      </geometry>\n    </visual>\n  </link>\n\n  <link name="upper_arm_l"/>\n\n  <joint name="shoulder_l_joint" type="revolute">\n    <parent link="torso"/>\n    <child link="upper_arm_l"/>\n    <origin xyz="0.0 0.2 0.5"/>\n    <axis xyz="0 1 0"/>\n    <limit effort="100.0" lower="-1.57" upper="1.57" velocity="1.0"/>\n  </joint>\n</robot>\n'})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);