"use strict";(globalThis.webpackChunkai_humanoid_robotics_book_new=globalThis.webpackChunkai_humanoid_robotics_book_new||[]).push([[6254],{3230:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"specifyplus/api/authentication","title":"API Authentication","description":"In the SpecifyPlus framework, \\"authentication\\" and \\"authorization\\" are handled by the ROS 2 Security features, also known as SROS2. This system provides a comprehensive security model for the robotics application, ensuring that only trusted nodes can communicate on the network.","source":"@site/docs/specifyplus/api/authentication.md","sourceDirName":"specifyplus/api","slug":"/specifyplus/api/authentication","permalink":"/ai-humanoid-robotics-book/docs/specifyplus/api/authentication","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var s=i(4848),r=i(8453);const o={},a="API Authentication",c={},l=[{value:"Core Concepts",id:"core-concepts",level:2},{value:"Enabling Security",id:"enabling-security",level:2},{value:"Creating Security Artifacts",id:"creating-security-artifacts",level:2},{value:"Defining Permissions",id:"defining-permissions",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"api-authentication",children:"API Authentication"})}),"\n",(0,s.jsx)(n.p,{children:'In the SpecifyPlus framework, "authentication" and "authorization" are handled by the ROS 2 Security features, also known as SROS2. This system provides a comprehensive security model for the robotics application, ensuring that only trusted nodes can communicate on the network.'}),"\n",(0,s.jsx)(n.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,s.jsx)(n.p,{children:"SROS2 is built on top of the security plugins of the underlying DDS implementation. It uses a Public Key Infrastructure (PKI) to manage identities and permissions."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Identity:"})," Each ROS 2 node is given a cryptographic identity in the form of a signed certificate."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Permissions:"})," A permissions file (XML) defines what each node is allowed to do (e.g., which topics it can publish or subscribe to, which services it can call)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Authentication:"})," When two nodes try to communicate, they use their certificates to authenticate each other."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Encryption:"})," All communication between authenticated nodes is encrypted."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"enabling-security",children:"Enabling Security"}),"\n",(0,s.jsx)(n.p,{children:"Security is not enabled by default. To activate it, you must set an environment variable before launching your nodes:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"export ROS_SECURITY_ENABLE=true\n"})}),"\n",(0,s.jsx)(n.p,{children:'You also need to provide the location of the security artifacts (keys, certificates, permissions files), which are typically stored in a "keystore".'}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"export ROS_SECURITY_KEYSTORE=/path/to/your/keystore\n"})}),"\n",(0,s.jsx)(n.h2,{id:"creating-security-artifacts",children:"Creating Security Artifacts"}),"\n",(0,s.jsxs)(n.p,{children:["ROS 2 provides a command-line tool, ",(0,s.jsx)(n.code,{children:"ros2 security"}),", to create the necessary keys and certificates."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"1. Create a Keystore:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# This creates a directory with a Certificate Authority (CA)\nros2 security create_keystore my_keystore\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"2. Create Keys and Certificates for a Node:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd my_keystore\n# This creates the private key, certificate request, and signed certificate for a node named 'my_agent'\nros2 security create_key my_agent\n"})}),"\n",(0,s.jsx)(n.h2,{id:"defining-permissions",children:"Defining Permissions"}),"\n",(0,s.jsxs)(n.p,{children:["Permissions are defined in a ",(0,s.jsx)(n.code,{children:"permissions.xml"})," file. This file grants or denies specific actions to each node based on its identity."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Example ",(0,s.jsx)(n.code,{children:"permissions.xml"}),":"]})}),"\n",(0,s.jsxs)(n.p,{children:["This example allows a ",(0,s.jsx)(n.code,{children:"camera_node"})," to publish on the ",(0,s.jsx)(n.code,{children:"/camera/image_raw"})," topic and a ",(0,s.jsx)(n.code,{children:"vision_node"})," to subscribe to it. No other communication is permitted."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\n<policy version="0.2.0"\n  xmlns="http://www.ros.org/wiki/ROS2/Security/Policy">\n  <enclaves>\n    <enclave path="/my_secure_app">\n      <profiles>\n        <profile name="camera_node_profile">\n          <publish>\n            <topic name="/camera/image_raw"/>\n          </publish>\n        </profile>\n        <profile name="vision_node_profile">\n          <subscribe>\n            <topic name="/camera/image_raw"/>\n          </subscribe>\n        </profile>\n      </profiles>\n      <nodes>\n        <node name="camera_node" profile="camera_node_profile"/>\n        <node name="vision_node" profile="vision_node_profile"/>\n      </nodes>\n    </enclave>\n  </enclaves>\n</policy>\n'})}),"\n",(0,s.jsx)(n.p,{children:"This permissions file must be signed by the Certificate Authority to be valid."}),"\n",(0,s.jsx)(n.p,{children:"By using SROS2, you can build a secure and robust SpecifyPlus system, ensuring data integrity and preventing unauthorized access to the robot's control and perception APIs."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var t=i(6540);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);